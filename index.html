<!doctype html>
<html lang="en">

<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Focus Timer</title>
<link rel="icon" type="image/png" href="favicon.png">
  
<style>
:root{
  --accent:#ffd54f;
  --btn-bg:var(--accent);
  --btn-color:#000;
  --text:#fff;
  --muted:#cfcfcf;
  --card-bg:rgba(0,0,0,0.45);
  --radius:14px;
}
*{box-sizing:border-box}
html,body{
  height:100%;margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",sans-serif;
  background:#6ec9ff;color:var(--text);transition:background .3s ease;
}
header{display:flex;align-items:center;justify-content:space-between;padding:12px 18px}
nav{display:flex;gap:8px}
.tab-btn{padding:8px 12px;border:none;border-radius:10px;background:transparent;color:var(--muted);cursor:pointer;font-weight:700;transition:.25s cubic-bezier(.2,.9,.2,1)}
.tab-btn.active{background:var(--btn-bg);color:var(--btn-color)}
main{display:flex;align-items:center;justify-content:center;position:relative;height:calc(100% - 96px)}
.view{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;opacity:0;transform:translateY(8px) scale(.99);pointer-events:none;transition:.42s cubic-bezier(.2,.9,.2,1)}
.view.show{opacity:1;transform:translateY(0) scale(1);pointer-events:auto}
.timer-card{background:var(--card-bg);padding:18px;border-radius:var(--radius);text-align:center;box-shadow:0 8px 30px rgba(0,0,0,.5)}
.timer-display{font-size:12vw;font-weight:800;margin:6px 0;cursor:pointer}
.controls{margin-top:14px;display:flex;gap:8px;justify-content:center;flex-wrap:wrap}
.btn{border-radius:10px;padding:8px 12px;border:none;cursor:pointer;font-weight:700;transition:.25s cubic-bezier(.2,.9,.2,1)}
.btn.primary{background:var(--btn-bg);color:var(--btn-color)}
footer{display:flex;justify-content:space-between;align-items:center;padding:10px 16px;font-size:14px;color:var(--muted)}
input[type="number"]{border-radius:8px;padding:6px 8px;border:none;background:rgba(255,255,255,0.05);color:var(--text);width:72px}
.world-list{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:10px;max-width:900px;width:100%}
.city-card{background:rgba(255,255,255,0.05);padding:10px;border-radius:8px}
#dinoCanvas{background:transparent;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.5);max-width:100%;height:200px}
.todo-wrap{max-width:760px;width:100%;background:rgba(255,255,255,0.05);padding:14px;border-radius:12px}
.todo-input{display:flex;gap:8px}
.todo-input input{flex:1;padding:10px;border-radius:8px;border:none;background:rgba(255,255,255,0.08);color:var(--text)}
.todo-item{display:flex;align-items:center;gap:8px;padding:8px;border-radius:8px;background:rgba(255,255,255,0.04)}
.todo-item.completed{text-decoration:line-through;opacity:.6}
.small{font-size:13px;color:var(--muted)}

html, body {
  height: 100%;
  margin: 0;
  overflow: hidden;
}

button {
  transition: all 0.25s ease;
  transform: translateY(0);
}

button:hover {
  transform: translateY(-3px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

  
</style>


<header>
  <nav>
    <button class="tab-btn active" id="tabClock">Clock</button>
    <button class="tab-btn" id="tabTimer">Timer</button>
    <button class="tab-btn" id="tabWorld">World</button>
    <button class="tab-btn" id="tabDino">Dino</button>
    <button class="tab-btn" id="tabTodo">To-Do</button>
  </nav>
  <div id="modeBadge">FOCUS</div>
</header>

<main>
  <section id="viewClock" class="view show"><div id="clockView" style="font-size:8vw;font-weight:800"></div></section>

  <section id="viewTimer" class="view">
    <div class="timer-card">
      <div class="session-label" id="sessionLabel">Focus session</div>
      <div id="timer" class="timer-display">25:00</div>
      <div class="controls">
        <button id="startBtn" class="btn primary">Start</button>
        <button id="resetBtn" class="btn">Reset</button>
        <button id="fullscreenBtn" class="btn">Fullscreen</button>
        <button id="uploadBtn" class="btn">Upload BG</button>
        <button id="colorBtn" class="btn">Change Button Color</button>
        <input type="file" id="bgFile" accept="image/*" style="display:none">
      </div>
    </div>
  </section>

  <section id="viewWorld" class="view">
    <div class="world-list" id="worldList"></div>
  </section>

  <section id="viewDino" class="view">
    <div style="display:flex;flex-direction:column;align-items:center;gap:12px">
      <canvas id="dinoCanvas"></canvas>
      <div class="small">Space/â†‘/Tap = Jump â€¢ R = Restart</div>
    </div>
  </section>

  <section id="viewTodo" class="view">
    <div class="todo-wrap">
      <div class="todo-input">
        <input id="todoInput" placeholder="Add a task & press Enter">
        <button id="addTodo" class="btn">Add</button>
      </div>
      <div id="todoList"></div>
    </div>
  </section>
</main>

<footer>
  <div>
    <label class="small">Focus <input type="number" id="focusMin" value="25"></label>
    <label class="small">Break <input type="number" id="breakMin" value="5"></label>
  </div>
  <div id="status" class="small">Ready</div>
</footer>

<script>
/* Tabs */
const tabs={Clock:["tabClock","viewClock"],Timer:["tabTimer","viewTimer"],World:["tabWorld","viewWorld"],Dino:["tabDino","viewDino"],Todo:["tabTodo","viewTodo"]};
function showTab(n){for(const [b,v] of Object.values(tabs)){};Object.values(tabs).forEach(([b,v])=>{document.getElementById(b).classList.remove("active");document.getElementById(v).classList.remove("show")});const [btn,view]=tabs[n];document.getElementById(btn).classList.add("active");setTimeout(()=>document.getElementById(view).classList.add("show"),10)}
for(const k in tabs){document.getElementById(tabs[k][0]).onclick=()=>showTab(k)}
showTab("Clock");

/* Clock */
const clockView=document.getElementById("clockView");
setInterval(()=>clockView.textContent=new Date().toLocaleTimeString(),500);

/* World clock */
const cities=[["New York","America/New_York"],["London","Europe/London"],["Paris","Europe/Paris"],["Dubai","Asia/Dubai"],["Mumbai","Asia/Kolkata"],["Tokyo","Asia/Tokyo"],["Sydney","Australia/Sydney"]];
const list=document.getElementById("worldList");
function updateWorld(){list.innerHTML=cities.map(([n,tz])=>`<div class='city-card'><div>${n}</div><div>${new Intl.DateTimeFormat([], {hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false,timeZone:tz}).format(new Date())}</div></div>`).join('')}
setInterval(updateWorld,1000);updateWorld();

/* Timer */
let focusMin=document.getElementById("focusMin"),breakMin=document.getElementById("breakMin"),timerEl=document.getElementById("timer");
let startBtn=document.getElementById("startBtn"),resetBtn=document.getElementById("resetBtn"),uploadBtn=document.getElementById("uploadBtn"),colorBtn=document.getElementById("colorBtn"),bgFile=document.getElementById("bgFile");
let isFocus=true,isRunning=false,remaining=25*60,timerInt;
function fmt(s){const m=Math.floor(s/60),x=s%60;return`${m.toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}`}
function update(){timerEl.textContent=fmt(remaining)}
function beep(){try{const a=new(AudioContext||webkitAudioContext)(),o=a.createOscillator(),g=a.createGain();o.connect(g);g.connect(a.destination);o.type="sine";o.frequency.setValueAtTime(880,a.currentTime);g.gain.setValueAtTime(.1,a.currentTime);o.start();o.stop(a.currentTime+.3);}catch{}}
function tick(){if(!isRunning)return;remaining--;update();if(remaining<0){beep();isFocus=!isFocus;remaining=(isFocus?+focusMin.value:+breakMin.value)*60;document.getElementById("modeBadge").textContent=isFocus?"FOCUS":"BREAK";}}
function startPause(){if(!isRunning){isRunning=true;startBtn.textContent="Pause";timerInt=setInterval(tick,1000);}else{isRunning=false;clearInterval(timerInt);startBtn.textContent="Start";}}
function reset(){isRunning=false;clearInterval(timerInt);isFocus=true;remaining=focusMin.value*60;update();startBtn.textContent="Start";}
startBtn.onclick=startPause;resetBtn.onclick=reset;timerEl.onclick=startPause;update();

/* Background upload with saving */
uploadBtn.onclick = () => bgFile.click();

bgFile.onchange = e => {
  const f = e.target.files[0];
  if (!f) return;
  const r = new FileReader();
  r.onload = x => {
    const imgData = x.target.result;
    document.body.style.background = `url(${imgData}) center/cover no-repeat`;
    localStorage.setItem("bgImage", imgData); // ðŸ’¾ save it
  };
  r.readAsDataURL(f);
};

// Restore saved background on page load
window.addEventListener("load", () => {
  const savedBg = localStorage.getItem("bgImage");
  if (savedBg) {
    document.body.style.background = `url(${savedBg}) center/cover no-repeat`;
  }
});


/* Button color & text color */
colorBtn.onclick = () => {
  // Ask for button background
  const btnBg = prompt("Enter button background color (#hex or name):", getComputedStyle(document.documentElement).getPropertyValue("--btn-bg").trim());
  if (!btnBg) return;

  // Ask for button text color
  const btnText = prompt("Enter button text color (#hex or name):", getComputedStyle(document.documentElement).getPropertyValue("--btn-color").trim());
  if (!btnText) return;

  // Ask for global text color
  const globalText = prompt("Enter overall page text color (#hex or name):", getComputedStyle(document.documentElement).getPropertyValue("--text").trim());
  if (!globalText) return;

  // Apply them
  document.documentElement.style.setProperty("--btn-bg", btnBg);
  document.documentElement.style.setProperty("--btn-color", btnText);
  document.documentElement.style.setProperty("--text", globalText);
};

/* Todo */
const todoInput=document.getElementById("todoInput"),addTodo=document.getElementById("addTodo"),todoList=document.getElementById("todoList");
let todos=[];
function renderTodos(){todoList.innerHTML="";todos.forEach((t,i)=>{const d=document.createElement("div");d.className="todo-item"+(t.done?" completed":"");d.innerHTML=`<input type='checkbox' ${t.done?"checked":""} data-i='${i}'>${t.text}<button class='btn small' data-i='${i}'>Del</button>`;todoList.appendChild(d);});todoList.querySelectorAll("input").forEach(cb=>cb.onchange=e=>{todos[e.target.dataset.i].done=e.target.checked;renderTodos();});todoList.querySelectorAll("button").forEach(b=>b.onclick=e=>{todos.splice(e.target.dataset.i,1);renderTodos();});}
addTodo.onclick=()=>{if(todoInput.value.trim()){todos.push({text:todoInput.value,done:false});todoInput.value="";renderTodos();}}
todoInput.onkeydown=e=>{if(e.key==="Enter")addTodo.click();}
renderTodos();

/* Dino */
const c=document.getElementById("dinoCanvas"),ctx=c.getContext("2d");function fit(){c.width=800;c.height=200;}fit();
let G={speed:6,gravity:0.7},game={running:false,score:0,high:0,frames:0,obstacles:[],player:{x:50,y:0,vy:0,w:44,h:44,onGround:true}};
function resetGame(){game.running=false;game.score=0;game.frames=0;game.obstacles=[];game.player.y=c.height-60-game.player.h;game.player.vy=0;game.player.onGround=true;}
resetGame();
function spawnObs(){const h=20+Math.random()*30,w=10+Math.random()*20;game.obstacles.push({x:c.width+40,y:c.height-60-h,w,h});}
function coll(a,b){return a.x<b.x+b.w&&a.x+a.w>b.x&&a.y<b.y+b.h&&a.y+a.h>b.y}
function jump(){if(!game.running){resetGame();game.running=true;}if(game.player.onGround){game.player.vy=-11;game.player.onGround=false;}}
document.addEventListener("keydown",e=>{if(["Space","ArrowUp"].includes(e.code)){e.preventDefault();jump();}if(e.key==="r"||e.key==="R")resetGame();});
c.addEventListener("click",jump);
function loop(){if(game.running){game.frames++;game.player.vy+=G.gravity;game.player.y+=game.player.vy;if(game.player.y>=c.height-60-game.player.h){game.player.y=c.height-60-game.player.h;game.player.vy=0;game.player.onGround=true;}else game.player.onGround=false;if(game.frames%80==0)spawnObs();game.obstacles.forEach(o=>o.x-=G.speed);game.obstacles=game.obstacles.filter(o=>o.x>-40);game.obstacles.forEach(o=>{if(coll(game.player,o)){game.running=false;game.high=Math.max(game.high,game.score);}});if(game.frames%6==0)game.score++;}
ctx.clearRect(0,0,c.width,c.height);ctx.fillStyle="#111";ctx.fillRect(0,c.height-60,c.width,60);ctx.fillStyle="#eee";ctx.fillRect(game.player.x,game.player.y,game.player.w,game.player.h);ctx.fillStyle="#eee";game.obstacles.forEach(o=>ctx.fillRect(o.x,o.y,o.w,o.h));ctx.fillText("Score:"+game.score,10,20);ctx.fillText("Best:"+game.high,10,40);requestAnimationFrame(loop);}
loop();

/* === Fullscreen toggle === */
const fullscreenBtn = document.getElementById("fullscreenBtn");
fullscreenBtn.onclick = () => {
  const elem = document.documentElement;
  if (!document.fullscreenElement) {
    elem.requestFullscreen().catch(err => console.warn(err));
  } else {
    document.exitFullscreen();
  }
};
// Hide everything except timer when running
function hideUI() {
  document.querySelector("header").style.display = "none";
  document.querySelector("footer").style.display = "none";
  document.querySelectorAll(".view").forEach(v => {
    if (v.id !== "viewTimer") v.style.display = "none";
  });
}

// Show everything again
function showUI() {
  document.querySelector("header").style.display = "";
  document.querySelector("footer").style.display = "";
  document.querySelectorAll(".view").forEach(v => {
    v.style.display = "";
  });
}

function startPause() {
  if (!isRunning) {
    isRunning = true;
    startBtn.textContent = "Pause";
    timerInt = setInterval(tick, 1000);
    hideUI(); // hides everything except timer
  } else {
    isRunning = false;
    clearInterval(timerInt);
    startBtn.textContent = "Start";
    showUI(); // shows everything again
  }
}

function reset() {
  isRunning = false;
  clearInterval(timerInt);
  isFocus = true;
  remaining = focusMin.value * 60;
  startBtn.textContent = "Start";
  showUI(); // shows everything again
  update();
}

// Save background when user changes it
function setBackground(imageUrl) {
  document.body.style.backgroundImage = `url('${imageUrl}')`;
  localStorage.setItem('bgImage', imageUrl); // save it
}

// On page load, restore saved background
window.addEventListener('load', () => {
  const savedBg = localStorage.getItem('bgImage');
  if (savedBg) {
    document.body.style.backgroundImage = `url('${savedBg}')`;
  }
});



document.getElementById('bgUpload').addEventListener('change', (event) => {
  const file = event.target.files[0];
  if (file) {
    const reader = new FileReader();
    reader.onload = function(e) {
      setBackground(e.target.result);
    };
    reader.readAsDataURL(file);
  }
});

  
</script>
</html>






